{{/*
  contact.html, used via {{ partial "contact.html" . }}
  from contact-section.html
  
  Arguments:
  sectionId: Optional argument to override the default HTML id for this section. If not provided, the default id is used. */}}

{{- $contextType := printf "%T" . -}}
{{- $isShortcode := (eq $contextType "*hugolib.ShortcodeWithPage") -}}

{{ $sectionId := "contact" }}
{{ if $isShortcode }}
  {{ with .Get "sectionId" }}
    {{ $sectionId = . }}
  {{ end }}
{{ end }}

{{/*----------------------------------------------
    TITLE
------------------------------------------------*/}}
{{ $title := "" }}
{{ if $isShortcode }}
  {{ $title = .Get "title" | default (i18n "contact_title") }}
{{ else }}
  {{ $title = i18n "contact_title" }}
{{ end }}

{{/*----------------------------------------------
    CONTACT INFORMATION FIELDS
------------------------------------------------*/}}
{{ $phone := "" }}
{{ $phone_display := "" }}
{{ $email := "" }}
{{ $location := "" }}
{{ if $isShortcode }}
  {{ $phone = .Get "contact_phone_number" | default (.Get "phone") | default .Site.Data.homepage.contact.phone }}
  {{ $phone_display = .Get "contact_phone_number" | default (.Get "phone_display") | default .Site.Data.homepage.contact.phone_display | default $phone }}
  {{ $email = .Get "contact_email_email" | default (.Get "email") | default .Site.Data.homepage.contact.email }}
  {{ $location = .Get "contact_address_address" | default (.Get "location") | default .Site.Data.homepage.contact.location }}
{{ else }}
  {{ $phone = .Site.Data.homepage.contact.phone }}
  {{ $phone_display = .Site.Data.homepage.contact.phone_display | default $phone }}
  {{ $email = .Site.Data.homepage.contact.email }}
  {{ $location = .Site.Data.homepage.contact.location }}
{{ end }}

{{/*----------------------------------------------
    HEADING LABELS
------------------------------------------------*/}}
{{ $phone_heading := "" }}
{{ $email_heading := "" }}
{{ $location_heading := "" }}
{{ if $isShortcode }}
  {{ $phone_heading = .Get "contact_phone_title" | default (.Get "phone_heading") | default .Site.Data.homepage.contact.phone_heading | default (i18n "contact_phone_heading") }}
  {{ $email_heading = .Get "contact_email_title" | default (.Get "email_heading") | default .Site.Data.homepage.contact.email_heading | default (i18n "contact_email_heading") }}
  {{ $location_heading = .Get "contact_address_title" | default (.Get "location_heading") | default .Site.Data.homepage.contact.location_heading | default (i18n "contact_location_heading") }}
{{ else }}
  {{ $phone_heading = .Site.Data.homepage.contact.phone_heading | default (i18n "contact_phone_heading") }}
  {{ $email_heading = .Site.Data.homepage.contact.email_heading | default (i18n "contact_email_heading") }}
  {{ $location_heading = .Site.Data.homepage.contact.location_heading | default (i18n "contact_location_heading") }}
{{ end }}

<section {{if $sectionId}} id="{{ $sectionId }}"{{end}} class="section section--contact pt-0">
    <div class="container">
        <div class="contact w-100">
            <h2>{{ $title }}</h2>

            <div class="row pt-2">
                <div class="col-12 col-lg-12 contact__info text-start"> <!-- 改为 text-start -->
                    {{ if $phone }}
                    <div class="contact-info-item mb-4">
                        <h3 class="text-start">{{ $phone_heading }}</h3> <!-- 标题左对齐 -->
                        <span class="text-start d-block">{{ $phone | safeHTML }}</span> <!-- 内容左对齐 -->
                    </div>
                    {{ end }}

                    {{ if $email }}
                    <div class="contact-info-item mb-4">
                        <h3 class="text-start">{{ $email_heading }}</h3>
                        <span class="text-start d-block">{{ $email | safeHTML }}</span>
                    </div>
                    {{ end }}
                    
                    {{ if $location }}
                    <div class="contact-info-item mb-4">
                        <h3 class="text-start">{{ $location_heading }}</h3>
                        <span class="text-start d-block">{{ $location | safeHTML }}</span>
                    </div>
                    {{ end }}
                </div>
            </div>
        </div>
    </div>
</section>

<style>
/* 移除框样式 */
.contact-info-item {
  padding: 0; /* 移除内边距 */
  background: transparent !important; /* 移除背景色 */
  border: none !important; /* 移除边框 */
  transition: none; /* 移除过渡效果 */
}

.contact-info-item:hover {
  background: transparent !important;
  transform: none;
}

/* 文字左对齐 */
.contact__info {
  text-align: left;
}

.contact-info-item h3 {
  margin-bottom: 0.5rem;
  font-size: 1.2rem;
  font-weight: 600;
  color: #333;
}

.contact-info-item span {
  font-size: 1rem;
  color: #666;
  line-height: 1.5;
}

/* 暗色模式支持 */
[data-bs-theme="dark"] .contact-info-item h3 {
  color: #e9ecef;
}

[data-bs-theme="dark"] .contact-info-item span {
  color: #a0aec0;
}

/* 移除所有悬停效果 */
.contact-info-item:hover {
  background: transparent;
  transform: none;
}
</style>