{{/*This partial is used from
- layouts/shortcodes/experience.html, anywhere via shortcode (commonly in homepage)
- layouts/experience/list.html, in "/experience" page(s))
*/}}
{{- $contextType := printf "%T" . -}}
{{- $isShortcode := (eq $contextType "*hugolib.ShortcodeWithPage") -}}

{{/* ---------------------------------------------------------------------------
     INTRO TITLE / DESCRIPTION
     --------------------------------------------------------------------------- */}}
{{- /* Intro title/description */}}
{{- $introTitle := "" -}}
{{- $introDescription := "" -}}

{{- if $isShortcode }}
  {{/* Shortcode params */}}
  {{- $introTitle = .Get "intro_title" | default false -}}
  {{- $introDescription = .Get "intro_description" | default ( i18n "experience_description" ) | safeHTML -}}
{{ else }}
  {{/* Fallback to the content of the markdown in /experience/_index.md */}}
  {{/* Base fields from content */}}
  {{- $introTitle = .Title -}}
  {{- $introDescription = .Content | safeHTML -}}
{{ end }}

<div class="container-experience">
  <div class="row">
    <h2>{{ $introTitle }}</h2>
    <div class="lead">{{ $introDescription }}</div>
  </div>
</div>